{"remainingRequest":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Login.vue","mtime":1670979611550},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIHRvUmVmcyB9IGZyb20gJ3Z1ZScKaW1wb3J0IHNIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL1NpbXBsZUhlYWRlcicKaW1wb3J0IHZ1ZUltZ1ZlcmlmeSBmcm9tICdAL2NvbXBvbmVudHMvVnVlSW1hZ2VWZXJpZnknCmltcG9ydCB7IGxvZ2luLCByZWdpc3RlciB9IGZyb20gJ0Avc2VydmljZS91c2VyJwppbXBvcnQgeyBzZXRMb2NhbCB9IGZyb20gJ0AvY29tbW9uL2pzL3V0aWxzJwppbXBvcnQgbWQ1IGZyb20gJ2pzLW1kNScKaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXAoKSB7CiAgICBjb25zdCB2ZXJpZnlSZWYgPSByZWYobnVsbCkKICAgIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgdXNlcm5hbWUxOiAnJywKICAgICAgcGFzc3dvcmQxOiAnJywKICAgICAgdHlwZTogJ2xvZ2luJywKICAgICAgaW1nQ29kZTogJycsCiAgICAgIHZlcmlmeTogJycKICAgIH0pCgogICAgLy8g5YiH5o2i55m75b2V5ZKM5rOo5YaM5Lik56eN5qih5byPCiAgICBjb25zdCB0b2dnbGUgPSAodikgPT4gewogICAgICBzdGF0ZS50eXBlID0gdgogICAgICBzdGF0ZS52ZXJpZnkgPSAnJwogICAgfQoKICAgIC8vIOaPkOS6pOeZu+W9leaIluazqOWGjOihqOWNlQogICAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyAodmFsdWVzKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCd2ZXJpZnlSZWYudmFsdWUuaW1nQ29kZScsIHZlcmlmeVJlZi52YWx1ZS5pbWdDb2RlKQogICAgICBzdGF0ZS5pbWdDb2RlID0gdmVyaWZ5UmVmLnZhbHVlLmltZ0NvZGUgfHwgJycKICAgICAgaWYgKHN0YXRlLnZlcmlmeS50b0xvd2VyQ2FzZSgpICE9IHN0YXRlLmltZ0NvZGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgIFRvYXN0LmZhaWwoJ+mqjOivgeeggeacieivrycpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIOmmluWFiOS8muWwhiB0b2tlbiDlrZfnrKbkuLLlrZjlgqjliLDCoGxvY2FsU3RvcmFnZcKg5LitCiAgICAgICAqIOWtmOWCqOeahOebrueahOWwseaYr+WcqOWQjue7reivt+axguS4reW4puS4iiB0b2tlbiDlgLzvvIzkvb/lvpflkI7nq68KICAgICAgICog5Zyo5aSE55CG6K+35rGC5pe25Y+v6IO96L+b6KGM6Lqr5Lu96K6k6K+BCiAgICAgICAqIOWwhiB0b2tlbiDlgLzmlL7liLDor7fmsYLkuK3vvJpheGlvcy5qc8KgCiAgICAgICAqLwogICAgICBpZiAoc3RhdGUudHlwZSA9PSAnbG9naW4nKSB7CiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBsb2dpbih7CiAgICAgICAgICAibG9naW5OYW1lIjogdmFsdWVzLnVzZXJuYW1lLAogICAgICAgICAgInBhc3N3b3JkTWQ1IjogbWQ1KHZhbHVlcy5wYXNzd29yZCkKICAgICAgICB9KQogICAgICAgIHNldExvY2FsKCd0b2tlbicsIGRhdGEpCiAgICAgICAgLy8g6ZyA6KaB5Yi35paw6aG16Z2i77yM5ZCm5YiZIGF4aW9zLmpzIOaWh+S7tumHjOeahCB0b2tlbiDkuI3kvJrooqvph43nva4KICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJwogICAgICB9IGVsc2UgewogICAgICAgIGF3YWl0IHJlZ2lzdGVyKHsKICAgICAgICAgICJsb2dpbk5hbWUiOiB2YWx1ZXMudXNlcm5hbWUxLAogICAgICAgICAgInBhc3N3b3JkIjogdmFsdWVzLnBhc3N3b3JkMQogICAgICAgIH0pCiAgICAgICAgVG9hc3Quc3VjY2Vzcygn5rOo5YaM5oiQ5YqfJykKICAgICAgICBzdGF0ZS50eXBlID0gJ2xvZ2luJwogICAgICAgIHN0YXRlLnZlcmlmeSA9ICcnCiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gewogICAgICAuLi50b1JlZnMoc3RhdGUpLAogICAgICB0b2dnbGUsCiAgICAgIG9uU3VibWl0LAogICAgICB2ZXJpZnlSZWYKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHNIZWFkZXIsCiAgICB2dWVJbWdWZXJpZnkKICB9Cn0K"},{"version":3,"sources":["/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Login.vue"],"names":[],"mappings":";AAiFA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC1C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB,CAAC,CAAC,CAAC,CAAC,CA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","file":"/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Login.vue","sourceRoot":"","sourcesContent":["<!--\n\n *\n-->\n\n<template>\n  <div class=\"login\">\n    <s-header :name=\"type == 'login' ? '登录' : '注册'\" :back=\"'/home'\"></s-header>\n    <img class=\"logo\" src=\"../../src/assets/logo.png\" alt=\"\">\n    <div v-if=\"type == 'login'\" class=\"login-body login\">\n      <van-form @submit=\"onSubmit\">\n        <van-field\n          v-model=\"username\"\n          name=\"username\"\n          label=\"用户名\"\n          placeholder=\"用户名\"\n          :rules=\"[{ required: true, message: '---请填写用户名---' }]\"\n        />\n        <van-field\n          v-model=\"password\"\n          type=\"password\"\n          name=\"password\"\n          label=\"密码\"\n          placeholder=\"密码\"\n          :rules=\"[{ required: true, message: '---请填写密码---' }]\"\n        />\n        <van-field\n          center\n          clearable\n          label=\"验证码\"\n          placeholder=\"输入验证码\"\n          v-model=\"verify\"\n        >\n          <template #button>\n            <vue-img-verify ref=\"verifyRef\" />\n          </template>\n        </van-field>\n        <div style=\"margin: 16px;\">\n          <div class=\"link-register\" @click=\"toggle('register')\">立即注册</div>\n          <van-button round block color=\"#1baeae\" native-type=\"submit\">登录</van-button>\n        </div>\n      </van-form>\n    </div>\n    <div v-else class=\"login-body register\">\n      <van-form @submit=\"onSubmit\">\n        <van-field\n          v-model=\"username1\"\n          name=\"username1\"\n          label=\"用户名\"\n          placeholder=\"用户名\"\n          :rules=\"[{ required: true, message: '请填写用户名' }]\"\n        />\n        <van-field\n          v-model=\"password1\"\n          type=\"password\"\n          name=\"password1\"\n          label=\"密码\"\n          placeholder=\"密码\"\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\n        />\n        <van-field\n          center\n          clearable\n          label=\"验证码\"\n          placeholder=\"输入验证码\"\n          v-model=\"verify\"\n        >\n          <template #button>\n            <vue-img-verify ref=\"verifyRef\" />\n          </template>\n        </van-field>\n        <div style=\"margin: 16px;\">\n           <div class=\"link-login\" @click=\"toggle('login')\">已有登录账号</div>\n          <van-button round block color=\"#1baeae\" native-type=\"submit\">注册</van-button>\n        </div>\n      </van-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, toRefs } from 'vue'\nimport sHeader from '@/components/SimpleHeader'\nimport vueImgVerify from '@/components/VueImageVerify'\nimport { login, register } from '@/service/user'\nimport { setLocal } from '@/common/js/utils'\nimport md5 from 'js-md5'\nimport { Toast } from 'vant'\nexport default {\n  setup() {\n    const verifyRef = ref(null)\n    const state = reactive({\n      username: '',\n      password: '',\n      username1: '',\n      password1: '',\n      type: 'login',\n      imgCode: '',\n      verify: ''\n    })\n\n    // 切换登录和注册两种模式\n    const toggle = (v) => {\n      state.type = v\n      state.verify = ''\n    }\n\n    // 提交登录或注册表单\n    const onSubmit = async (values) => {\n      console.log('verifyRef.value.imgCode', verifyRef.value.imgCode)\n      state.imgCode = verifyRef.value.imgCode || ''\n      if (state.verify.toLowerCase() != state.imgCode.toLowerCase()) {\n        Toast.fail('验证码有误')\n        return\n      }\n      /**\n       * 首先会将 token 字符串存储到 localStorage 中\n       * 存储的目的就是在后续请求中带上 token 值，使得后端\n       * 在处理请求时可能进行身份认证\n       * 将 token 值放到请求中：axios.js \n       */\n      if (state.type == 'login') {\n        const { data } = await login({\n          \"loginName\": values.username,\n          \"passwordMd5\": md5(values.password)\n        })\n        setLocal('token', data)\n        // 需要刷新页面，否则 axios.js 文件里的 token 不会被重置\n        window.location.href = '/'\n      } else {\n        await register({\n          \"loginName\": values.username1,\n          \"password\": values.password1\n        })\n        Toast.success('注册成功')\n        state.type = 'login'\n        state.verify = ''\n      }\n    }\n\n    return {\n      ...toRefs(state),\n      toggle,\n      onSubmit,\n      verifyRef\n    }\n  },\n  components: {\n    sHeader,\n    vueImgVerify\n  }\n}\n</script>\n\n<style lang=\"less\">\n  .login {\n    .logo {\n      width: 120px;\n      height: 120px;\n      display: block;\n      margin: 80px auto 20px;\n    }\n    .login-body {\n      padding: 0 20px;\n    }\n    .login {\n      .link-register {\n        font-size: 14px;\n        margin-bottom: 20px;\n        color: #0a2847;\n        display: inline-block;\n      }\n    }\n    .register {\n      .link-login {\n        font-size: 14px;\n        margin-bottom: 20px;\n        color: #092c4f;\n        display: inline-block;\n      }\n    }\n    .verify-bar-area {\n      margin-top: 24px;\n      .verify-left-bar {\n        border-color: #084343;\n      }\n      .verify-move-block {\n        background-color: #207474;\n        color: #d87777;\n      }\n    }\n    .verify {\n      >div {\n        width: 100%;\n      }\n      display: flex;\n      justify-content: center;\n      .cerify-code-panel {\n        margin-top: 16px;\n      }\n      .verify-code {\n        width: 40%!important;\n        float: left!important;\n      }\n      .verify-code-area {\n        float: left!important;\n        width: 54%!important;\n        margin-left: 14px!important;\n        .varify-input-code {\n          width: 90px;\n          height: 38px!important;\n          border: 1px solid #8d2d2d;\n          padding-left: 10px;\n          font-size: 16px;\n        }\n        .verify-change-area {\n          line-height: 44px;\n        }\n      }\n    }\n  }\n</style>\n"]}]}