{"remainingRequest":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js!/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Address.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Address.vue","mtime":1663211991333},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/babel.config.js","mtime":1663084725000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBzSGVhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9TaW1wbGVIZWFkZXInOwppbXBvcnQgeyBnZXRBZGRyZXNzTGlzdCB9IGZyb20gJ0Avc2VydmljZS9hZGRyZXNzJzsKaW1wb3J0IHsgdXNlUm91dGUsIHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgc0hlYWRlcgogIH0sCiAgc2V0dXAoKSB7CiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoewogICAgICBjaG9zZW5BZGRyZXNzSWQ6ICcxJywKICAgICAgbGlzdDogW10sCiAgICAgIGZyb206IHJvdXRlLnF1ZXJ5LmZyb20KICAgIH0pOwogICAgb25Nb3VudGVkKGFzeW5jICgpID0+IHsKICAgICAgY29uc3QgewogICAgICAgIGRhdGEKICAgICAgfSA9IGF3YWl0IGdldEFkZHJlc3NMaXN0KCk7CiAgICAgIGlmICghZGF0YSkgewogICAgICAgIHN0YXRlLmxpc3QgPSBbXTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc3RhdGUubGlzdCA9IGRhdGEubWFwKGl0ZW0gPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogaXRlbS5hZGRyZXNzSWQsCiAgICAgICAgICBuYW1lOiBpdGVtLnVzZXJOYW1lLAogICAgICAgICAgdGVsOiBpdGVtLnVzZXJQaG9uZSwKICAgICAgICAgIGFkZHJlc3M6IGAke2l0ZW0ucHJvdmluY2VOYW1lfSAke2l0ZW0uY2l0eU5hbWV9ICR7aXRlbS5yZWdpb25OYW1lfSAke2l0ZW0uZGV0YWlsQWRkcmVzc31gLAogICAgICAgICAgaXNEZWZhdWx0OiAhIWl0ZW0uZGVmYXVsdEZsYWcKICAgICAgICB9OwogICAgICB9KTsKICAgIH0pOwogICAgY29uc3Qgb25BZGQgPSAoKSA9PiB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2FkZHJlc3MtZWRpdCcsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHR5cGU6ICdhZGQnLAogICAgICAgICAgZnJvbTogc3RhdGUuZnJvbQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgY29uc3Qgb25FZGl0ID0gaXRlbSA9PiB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnYWRkcmVzcy1lZGl0JywKICAgICAgICBxdWVyeTogewogICAgICAgICAgdHlwZTogJ2VkaXQnLAogICAgICAgICAgYWRkcmVzc0lkOiBpdGVtLmlkLAogICAgICAgICAgZnJvbTogc3RhdGUuZnJvbQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgY29uc3Qgc2VsZWN0ID0gaXRlbSA9PiB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnY3JlYXRlLW9yZGVyJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgYWRkcmVzc0lkOiBpdGVtLmlkLAogICAgICAgICAgZnJvbTogc3RhdGUuZnJvbQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgLi4udG9SZWZzKHN0YXRlKSwKICAgICAgb25BZGQsCiAgICAgIG9uRWRpdCwKICAgICAgc2VsZWN0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":";AA8BA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAQ,QAAS,KAAI;AAChD,OAAOC,OAAM,MAAO,2BAA0B;AAC9C,SAASC,cAAa,QAAS,mBAAkB;AACjD,SAASC,QAAQ,EAAEC,SAAQ,QAAS,YAAW;AAC/C,eAAe;EACbC,UAAU,EAAE;IACVJ;EACF,CAAC;EACDK,KAAK,GAAG;IACN,MAAMC,KAAI,GAAIJ,QAAQ,EAAC;IACvB,MAAMK,MAAK,GAAIJ,SAAS,EAAC;IACzB,MAAMK,KAAI,GAAIX,QAAQ,CAAC;MACrBY,eAAe,EAAE,GAAG;MACpBC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAEL,KAAK,CAACM,KAAK,CAACD;IACpB,CAAC;IAEDZ,SAAS,CAAC,YAAY;MACpB,MAAM;QAAEc;MAAK,IAAI,MAAMZ,cAAc,EAAC;MACtC,IAAI,CAACY,IAAI,EAAE;QACTL,KAAK,CAACE,IAAG,GAAI,EAAC;QACd;MACF;MACAF,KAAK,CAACE,IAAG,GAAIG,IAAI,CAACC,GAAG,CAACC,IAAG,IAAK;QAC5B,OAAO;UACLC,EAAE,EAAED,IAAI,CAACE,SAAS;UAClBC,IAAI,EAAEH,IAAI,CAACI,QAAQ;UACnBC,GAAG,EAAEL,IAAI,CAACM,SAAS;UACnBC,OAAO,EAAG,GAAEP,IAAI,CAACQ,YAAY,IAAIR,IAAI,CAACS,QAAQ,IAAIT,IAAI,CAACU,UAAU,IAAIV,IAAI,CAACW,aAAc,EAAC;UACzFC,SAAS,EAAE,CAAC,CAACZ,IAAI,CAACa;QACpB;MACF,CAAC;IACH,CAAC;IAED,MAAMC,KAAI,GAAI,MAAM;MAClBtB,MAAM,CAACuB,IAAI,CAAC;QAAEC,IAAI,EAAE,eAAe;QAAEnB,KAAK,EAAE;UAAEoB,IAAI,EAAE,KAAK;UAAErB,IAAI,EAAEH,KAAK,CAACG;QAAK;MAAC,CAAC;IAChF;IAEA,MAAMsB,MAAK,GAAKlB,IAAI,IAAK;MACvBR,MAAM,CAACuB,IAAI,CAAC;QAAEC,IAAI,EAAE,cAAc;QAAEnB,KAAK,EAAE;UAAEoB,IAAI,EAAE,MAAM;UAAEf,SAAS,EAAEF,IAAI,CAACC,EAAE;UAAEL,IAAI,EAAEH,KAAK,CAACG;QAAK;MAAC,CAAC;IACpG;IAEA,MAAMuB,MAAK,GAAKnB,IAAI,IAAK;MACvBR,MAAM,CAACuB,IAAI,CAAC;QAAEC,IAAI,EAAE,cAAc;QAAEnB,KAAK,EAAE;UAAEK,SAAS,EAAEF,IAAI,CAACC,EAAE;UAAEL,IAAI,EAAEH,KAAK,CAACG;QAAK;MAAC,CAAC;IACtF;IAEA,OAAO;MACL,GAAGb,MAAM,CAACU,KAAK,CAAC;MAChBqB,KAAK;MACLI,MAAM;MACNC;IACF;EACF;AACF","names":["reactive","toRefs","onMounted","sHeader","getAddressList","useRoute","useRouter","components","setup","route","router","state","chosenAddressId","list","from","query","data","map","item","id","addressId","name","userName","tel","userPhone","address","provinceName","cityName","regionName","detailAddress","isDefault","defaultFlag","onAdd","push","path","type","onEdit","select"],"sourceRoot":"","sources":["/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Address.vue"],"sourcesContent":["<!--\n\n *\n-->\n<template>\n  <div class=\"address-box\">\n    <s-header :name=\"'地址管理'\" :back=\"from == 'create-order' ? '' : '/user'\"></s-header>\n    <div class=\"address-item\">\n      <van-address-list\n        v-if=\"from != 'mine'\"\n        v-model=\"chosenAddressId\"\n        :list=\"list\"\n        default-tag-text=\"默认\"\n        @add=\"onAdd\"\n        @edit=\"onEdit\"\n        @select=\"select\"\n      />\n      <van-address-list\n        v-else\n        v-model=\"chosenAddressId\"\n        :list=\"list\"\n        default-tag-text=\"默认\"\n        @add=\"onAdd\"\n        @edit=\"onEdit\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs, onMounted } from 'vue'\nimport sHeader from '@/components/SimpleHeader'\nimport { getAddressList } from '@/service/address'\nimport { useRoute, useRouter } from 'vue-router'\nexport default {\n  components: {\n    sHeader\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const state = reactive({\n      chosenAddressId: '1',\n      list: [],\n      from: route.query.from\n    })\n\n    onMounted(async () => {\n      const { data } = await getAddressList()\n      if (!data) {\n        state.list = []\n        return\n      }\n      state.list = data.map(item => {\n        return {\n          id: item.addressId,\n          name: item.userName,\n          tel: item.userPhone,\n          address: `${item.provinceName} ${item.cityName} ${item.regionName} ${item.detailAddress}`,\n          isDefault: !!item.defaultFlag\n        }\n      })\n    })\n\n    const onAdd = () => {\n      router.push({ path: '/address-edit', query: { type: 'add', from: state.from }})\n    }\n\n    const onEdit = (item) => {\n      router.push({ path: 'address-edit', query: { type: 'edit', addressId: item.id, from: state.from }})\n    }\n\n    const select = (item) => {\n      router.push({ path: 'create-order', query: { addressId: item.id, from: state.from }})\n    }\n\n    return {\n      ...toRefs(state),\n      onAdd,\n      onEdit,\n      select\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .address-box {\n    .van-radio__icon {\n      display: none;\n    }\n    .address-item {\n      .van-button {\n        background: @primary;\n        border-color: @primary;\n      }\n    }\n  }\n</style>\n"]}]}