{"remainingRequest":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/ProductList.vue?vue&type=template&id=67a91b63&scoped=true","dependencies":[{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/ProductList.vue","mtime":1663211991145},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/babel.config.js","mtime":1663084725000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwpjb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoImRhdGEtdi02N2E5MWI2MyIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuKTsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogInByb2R1Y3QtbGlzdC13cmFwIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAicHJvZHVjdC1saXN0LWNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJjYXRlZ29yeS1oZWFkZXIgd3JhcCIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImhlYWRlci1zZWFyY2giCn07CmNvbnN0IF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogIGNsYXNzOiAibmJpY29uIG5iU2VhcmNoIgp9LCBudWxsLCAtMSAvKiBIT0lTVEVEICovKSk7CmNvbnN0IF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJjb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF83ID0gWyJvbkNsaWNrIl07CmNvbnN0IF9ob2lzdGVkXzggPSBbInNyYyJdOwpjb25zdCBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAicHJvZHVjdC1pbmZvIgp9Owpjb25zdCBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogIm5hbWUiCn07CmNvbnN0IF9ob2lzdGVkXzExID0gewogIGNsYXNzOiAic3VidGl0bGUiCn07CmNvbnN0IF9ob2lzdGVkXzEyID0gewogIGNsYXNzOiAicHJpY2UiCn07CmNvbnN0IF9ob2lzdGVkXzEzID0gewogIGtleTogMSwKICBjbGFzczogImVtcHR5IiwKICBzcmM6ICJodHRwczovL3MueWV6Z2VhMDIuY29tLzE2MDQwNDEzMTMwODMva2VzcnRkLnBuZyIsCiAgYWx0OiAi5pCc57SiIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfdmFuX3RhYiA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tdGFiIik7CiAgY29uc3QgX2NvbXBvbmVudF92YW5fdGFicyA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tdGFicyIpOwogIGNvbnN0IF9jb21wb25lbnRfdmFuX2xpc3QgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWxpc3QiKTsKICBjb25zdCBfY29tcG9uZW50X3Zhbl9wdWxsX3JlZnJlc2ggPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLXB1bGwtcmVmcmVzaCIpOwogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaGVhZGVyIiwgX2hvaXN0ZWRfMywgW19jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7CiAgICBjbGFzczogIm5iaWNvbiBuYmZhbmh1aSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICguLi5hcmdzKSA9PiAkc2V0dXAuZ29CYWNrICYmICRzZXR1cC5nb0JhY2soLi4uYXJncykpCiAgfSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfaG9pc3RlZF81LCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAidGV4dCIsCiAgICBjbGFzczogInNlYXJjaC10aXRsZSIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+IF9jdHgua2V5d29yZCA9ICRldmVudCkKICB9LCBudWxsLCA1MTIgLyogTkVFRF9QQVRDSCAqLyksIFtbX3ZNb2RlbFRleHQsIF9jdHgua2V5d29yZF1dKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgY2xhc3M6ICJzZWFyY2gtYnRuIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKC4uLmFyZ3MpID0+ICRzZXR1cC5nZXRTZWFyY2ggJiYgJHNldHVwLmdldFNlYXJjaCguLi5hcmdzKSkKICB9LCAi5pCc57SiIildKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX3RhYnMsIHsKICAgIHR5cGU6ICJjYXJkIiwKICAgIGNvbG9yOiAiIzFiYWVhZSIsCiAgICBvbkNsaWNrOiAkc2V0dXAuY2hhbmdlVGFiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl90YWIsIHsKICAgICAgdGl0bGU6ICLmjqjojZAiLAogICAgICBuYW1lOiAiIgogICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl90YWIsIHsKICAgICAgdGl0bGU6ICLmlrDlk4EiLAogICAgICBuYW1lOiAibmV3IgogICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl90YWIsIHsKICAgICAgdGl0bGU6ICLku7fmoLwiLAogICAgICBuYW1lOiAicHJpY2UiCiAgICB9KV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9wdWxsX3JlZnJlc2gsIHsKICAgIG1vZGVsVmFsdWU6IF9jdHgucmVmcmVzaGluZywKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSAkZXZlbnQgPT4gX2N0eC5yZWZyZXNoaW5nID0gJGV2ZW50KSwKICAgIG9uUmVmcmVzaDogJHNldHVwLm9uUmVmcmVzaCwKICAgIGNsYXNzOiAicHJvZHVjdC1saXN0LXJlZnJlc2giCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9saXN0LCB7CiAgICAgIGxvYWRpbmc6IF9jdHgubG9hZGluZywKICAgICAgIm9uVXBkYXRlOmxvYWRpbmciOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICRldmVudCA9PiBfY3R4LmxvYWRpbmcgPSAkZXZlbnQpLAogICAgICBmaW5pc2hlZDogX2N0eC5maW5pc2hlZCwKICAgICAgImZpbmlzaGVkLXRleHQiOiBfY3R4LnByb2R1Y3RMaXN0Lmxlbmd0aCA/ICfmsqHmnInmm7TlpJrkuoYnIDogJ+aQnOe0ouaDs+imgeeahOWVhuWTgScsCiAgICAgIG9uTG9hZDogJHNldHVwLm9uTG9hZCwKICAgICAgb25PZmZzZXQ6ICRldmVudCA9PiAxMAogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxwIHYtZm9yPVwiaXRlbSBpbiBsaXN0XCIgOmtleT1cIml0ZW1cIj57eyBpdGVtIH19PC9wPiAiKSwgX2N0eC5wcm9kdWN0TGlzdC5sZW5ndGggPyAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIHsKICAgICAgICBrZXk6IDAKICAgICAgfSwgX3JlbmRlckxpc3QoX2N0eC5wcm9kdWN0TGlzdCwgKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJwcm9kdWN0LWl0ZW0iLAogICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAucHJvZHVjdERldGFpbChpdGVtKQogICAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgICAgICBzcmM6IF9jdHguJGZpbHRlcnMucHJlZml4KGl0ZW0uZ29vZHNDb3ZlckltZykKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF84KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8xMCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLmdvb2RzTmFtZSksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8xMSwgX3RvRGlzcGxheVN0cmluZyhpdGVtLmdvb2RzSW50cm8pLCAxIC8qIFRFWFQgKi8pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMTIsICLvv6UgIiArIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5zZWxsaW5nUHJpY2UpLCAxIC8qIFRFWFQgKi8pXSldLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF83KTsKICAgICAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiaW1nIiwgX2hvaXN0ZWRfMTMpKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSwgOCAvKiBQUk9QUyAqLywgWyJsb2FkaW5nIiwgImZpbmlzaGVkIiwgImZpbmlzaGVkLXRleHQiLCAib25Mb2FkIl0pXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSIsICJvblJlZnJlc2giXSldKV0pOwp9"},{"version":3,"mappings":";;;EAMOA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAsB;;EACvBA,KAAK,EAAC;AAAsB;;EAE7BA,KAAK,EAAC;AAAe;gEACxBC,oBAA+B;EAA5BD,KAAK,EAAC;AAAiB;;EAc3BA,KAAK,EAAC;AAAS;;;;EAaLA,KAAK,EAAC;AAAc;;EACpBA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAU;;EACbA,KAAK,EAAC;AAAO;;;EAIpBA,KAAK,EAAC,OAAO;EAAQE,GAAG,EAAC,iDAAiD;EAACC,GAAG,EAAC;;;;;;;uBAvC5FC,oBA2CM,OA3CNC,UA2CM,GA1CJJ,oBAiBM,OAjBNK,UAiBM,GAhBJL,oBAUS,UAVTM,UAUS,GATPN,oBAA+C;IAA5CD,KAAK,EAAC,iBAAiB;IAAEQ,OAAK,yCAAEC,uCAAM;MACzCR,oBAMM,OANNS,UAMM,GALJC,UAA+B,kBAC/BV,oBAGqB;IAFnBW,IAAI,EAAC,MAAM;IACXZ,KAAK,EAAC,cAAc;+DACXa,YAAO;iDAAPA,YAAO,OAEpBZ,oBAAqD;IAA/CD,KAAK,EAAC,YAAY;IAAEQ,OAAK,yCAAEC,6CAAS;KAAE,IAAE,KAEhDK,aAIWC;IAJDH,IAAI,EAAC,MAAM;IAACI,KAAK,EAAC,SAAS;IAAER,OAAK,EAAEC;;sBAC5C,MAAsC,CAAtCK,aAAsCG;MAA7BC,KAAK,EAAC,IAAI;MAACC,IAAI,EAAC;QACzBL,aAAyCG;MAAhCC,KAAK,EAAC,IAAI;MAACC,IAAI,EAAC;QACzBL,aAA2CG;MAAlCC,KAAK,EAAC,IAAI;MAACC,IAAI,EAAC;;;oCAG7BlB,oBAuBM,OAvBNmB,UAuBM,GAtBJN,aAqBmBO;gBArBQR,eAAU;+DAAVA,eAAU;IAAGS,SAAO,EAAEb,gBAAS;IAAET,KAAK,EAAC;;sBAChE,MAmBW,CAnBXc,aAmBWS;MAlBDC,OAAO,EAAEX,YAAO;8DAAPA,YAAO;MACvBY,QAAQ,EAAEZ,aAAQ;MAClB,eAAa,EAAEA,gBAAW,CAACa,MAAM;MACjCC,MAAI,EAAElB,aAAM;MACZmB,QAAM,YAAE;;wBAET,MAA2D,CAA3DC,+EAA2D,EAC3ChB,gBAAW,CAACa,MAAM,sBAChCtB,oBAOM0B;QAAAC;MAAA,eAP4ClB,gBAAW,GAA3BmB,IAAI,EAAEC,KAAK;6BAA7C7B,oBAOM;UAPDJ,KAAK,EAAC,cAAc;UAAuC+B,GAAG,EAAEE,KAAK;UAAGzB,OAAK,YAAEC,oBAAa,CAACuB,IAAI;YACpG/B,oBAAkD;UAA5CC,GAAG,EAAEW,aAAQ,CAACqB,MAAM,CAACF,IAAI,CAACG,aAAa;6CAC7ClC,oBAIM,OAJNmC,UAIM,GAHJnC,oBAAsC,KAAtCoC,WAAsC,mBAApBL,IAAI,CAACM,SAAS,kBAChCrC,oBAA2C,KAA3CsC,WAA2C,mBAArBP,IAAI,CAACQ,UAAU,kBACrCvC,oBAAkD,QAAlDwC,WAAkD,EAA9B,IAAE,oBAAET,IAAI,CAACU,YAAY;sDAI/CtC,oBAAyF,OAAzFuC,WAAyF","names":["class","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","$setup","_hoisted_4","_hoisted_5","type","_ctx","_createVNode","_component_van_tabs","color","_component_van_tab","title","name","_hoisted_6","_component_van_pull_refresh","onRefresh","_component_van_list","loading","finished","length","onLoad","onOffset","_createCommentVNode","_Fragment","key","item","index","prefix","goodsCoverImg","_hoisted_9","_hoisted_10","goodsName","_hoisted_11","goodsIntro","_hoisted_12","sellingPrice","_hoisted_13"],"sourceRoot":"","sources":["/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/ProductList.vue"],"sourcesContent":["<!--\n\n *\n-->\n\n<template>\n  <div class=\"product-list-wrap\">\n    <div class=\"product-list-content\">\n      <header class=\"category-header wrap\">\n        <i class=\"nbicon nbfanhui\" @click=\"goBack\"></i>\n        <div class=\"header-search\">\n          <i class=\"nbicon nbSearch\"></i>\n          <input\n            type=\"text\"\n            class=\"search-title\"\n            v-model=\"keyword\"/>\n        </div>\n        <span class=\"search-btn\" @click=\"getSearch\">搜索</span>\n      </header>\n      <van-tabs type=\"card\" color=\"#1baeae\" @click=\"changeTab\" >\n        <van-tab title=\"推荐\" name=\"\"></van-tab>\n        <van-tab title=\"新品\" name=\"new\"></van-tab>\n        <van-tab title=\"价格\" name=\"price\"></van-tab>\n      </van-tabs>\n    </div>\n    <div class=\"content\">\n      <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\" class=\"product-list-refresh\">\n        <van-list\n          v-model:loading=\"loading\"\n          :finished=\"finished\"\n          :finished-text=\"productList.length ? '没有更多了' : '搜索想要的商品'\"\n          @load=\"onLoad\"\n          @offset=\"10\"\n        >\n          <!-- <p v-for=\"item in list\" :key=\"item\">{{ item }}</p> -->\n          <template v-if=\"productList.length\">\n            <div class=\"product-item\" v-for=\"(item, index) in productList\" :key=\"index\" @click=\"productDetail(item)\">\n              <img :src=\"$filters.prefix(item.goodsCoverImg)\" />\n              <div class=\"product-info\">\n                <p class=\"name\">{{item.goodsName}}</p>\n                <p class=\"subtitle\">{{item.goodsIntro}}</p>\n                <span class=\"price\">￥ {{item.sellingPrice}}</span>\n              </div>\n            </div>\n          </template>\n          <img class=\"empty\" v-else src=\"https://s.yezgea02.com/1604041313083/kesrtd.png\" alt=\"搜索\">\n        </van-list>\n      </van-pull-refresh>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { search } from '@/service/good'\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const state = reactive({\n      keyword: route.query.keyword || '',\n      searchBtn: false,\n      seclectActive: false,\n      refreshing: false,\n      list: [],\n      loading: false,\n      finished: false,\n      productList: [],\n      totalPage: 0,\n      page: 1,\n      orderBy: ''\n    })\n\n    // onMounted(() => {\n    //   init()\n    // })\n\n    const init = async () => {\n      const { categoryId } = route.query\n      if (!categoryId && !state.keyword) {\n        // Toast.fail('请输入关键词')\n        state.finished = true\n        state.loading = false;\n        return\n      }\n      const { data, data: { list } } = await search({ pageNumber: state.page, goodsCategoryId: categoryId, keyword: state.keyword, orderBy: state.orderBy })\n      \n      state.productList = state.productList.concat(list)\n      state.totalPage = data.totalPage\n      state.loading = false;\n      if (state.page >= data.totalPage) state.finished = true\n    }\n\n    const goBack = () => {\n      router.go(-1)\n    }\n\n    const productDetail = (item) => {\n      router.push({ path: `/product/${item.goodsId}` })\n    }\n\n    const getSearch = () => {\n      onRefresh()\n    }\n\n    const onLoad = () => {\n      if (!state.refreshing && state.page < state.totalPage) {\n        state.page = state.page + 1\n      }\n      if (state.refreshing) {\n        state.productList = [];\n        state.refreshing = false;\n      }\n      init()\n    }\n\n    const onRefresh = () => {\n      state.refreshing = true\n      state.finished = false\n      state.loading = true\n      state.page = 1\n      onLoad()\n    }\n\n    const changeTab = (name) => {\n      console.log('name', name)\n      state.orderBy = name\n      onRefresh()\n    }\n\n    return {\n      ...toRefs(state),\n      goBack,\n      productDetail,\n      getSearch,\n      changeTab,\n      onLoad,\n      onRefresh\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .product-list-content {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    z-index: 1000;\n    background: #fff;\n    .category-header {\n      .fj();\n      width: 100%;\n      height: 50px;\n      line-height: 50px;\n      padding: 0 15px;\n      .boxSizing();\n      font-size: 15px;\n      color: #656771;\n      z-index: 10000;\n      &.active {\n        background: @primary;\n      }\n      .icon-left {\n        font-size: 25px;\n        font-weight: bold;\n      }\n      .header-search {\n        display: flex;\n        width: 76%;\n        height: 20px;\n        line-height: 20px;\n        margin: 10px 0;\n        padding: 5px 0;\n        color: #232326;\n        background: #F7F7F7;\n        .borderRadius(20px);\n        .nbSearch {\n          padding: 0 5px 0 20px;\n          font-size: 17px;\n        }\n        .search-title {\n          font-size: 12px;\n          color: #666;\n          background: #F7F7F7;\n        }\n    }\n    .icon-More {\n      font-size: 20px;\n    }\n    .search-btn {\n      height: 28px;\n      margin: 8px 0;\n      line-height: 28px;\n      padding: 0 5px;\n      color: #fff;\n      background: @primary;\n      .borderRadius(5px);\n      margin-top: 10px;\n    }\n  }\n}\n  .content {\n    height: calc(~\"(100vh - 70px)\");\n    overflow: hidden;\n    overflow-y: scroll; \n    margin-top: 78px;\n  }\n  .product-list-refresh {\n    .product-item {\n      .fj();\n      width: 100%;\n      height: 120px;\n      padding: 10px 0;\n      border-bottom: 1px solid #dcdcdc;\n      img {\n        width: 140px;\n        height: 120px;\n        padding: 0 10px;\n        .boxSizing();\n      }\n      .product-info {\n          width: 56%;\n          height: 120px;\n          padding: 5px;\n          text-align: left;\n          .boxSizing();\n          p {\n            margin: 0\n          }\n          .name {\n            width: 100%;\n            max-height: 40px;\n            line-height: 20px;\n            font-size: 15px;\n            color: #333;\n            overflow: hidden;\n            text-overflow:ellipsis;\n            white-space: nowrap;\n          }\n          .subtitle {\n            width: 100%;\n            max-height: 20px;\n            padding: 10px 0;\n            line-height: 25px;\n            font-size: 13px;\n            color: #999;\n            overflow: hidden;\n          }\n          .price {\n            color: @primary;\n            font-size: 16px;\n          }\n      }\n  }\n  .empty {\n    display: block;\n    width: 150px;\n    margin: 50px auto 20px;\n  }\n}\n</style>\n"]}]}