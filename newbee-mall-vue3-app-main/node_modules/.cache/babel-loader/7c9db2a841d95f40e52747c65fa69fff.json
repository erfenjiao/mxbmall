{"remainingRequest":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/ProductDetail.vue?vue&type=template&id=0d3e5a56","dependencies":[{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/ProductDetail.vue","mtime":1671008419639},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/babel.config.js","mtime":1671008419639},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogInByb2R1Y3QtZGV0YWlsIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiZGV0YWlsLWNvbnRlbnQiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJkZXRhaWwtc3dpcGUtd3JhcCIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IFsic3JjIl07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJwcm9kdWN0LWluZm8iCn07CmNvbnN0IF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJwcm9kdWN0LXRpdGxlIgp9Owpjb25zdCBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBjbGFzczogInByb2R1Y3QtZGVzYyIKfSwgIuWFjemCrui0uSDpobrkuLDlv6vpgJIiLCAtMSAvKiBIT0lTVEVEICovKTsKY29uc3QgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogInByb2R1Y3QtcHJpY2UiCn07CmNvbnN0IF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJwcm9kdWN0LWludHJvIgp9Owpjb25zdCBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJ1bCIsIG51bGwsIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCAi5qaC6L+wIiksIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJsaSIsIG51bGwsICLlj4LmlbAiKSwgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImxpIiwgbnVsbCwgIuWuieijheacjeWKoSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCAi5bi46KeB6Zeu6aKYIildLCAtMSAvKiBIT0lTVEVEICovKTsKY29uc3QgX2hvaXN0ZWRfMTEgPSBbImlubmVySFRNTCJdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfc19oZWFkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgicy1oZWFkZXIiKTsKICBjb25zdCBfY29tcG9uZW50X3Zhbl9zd2lwZV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1zd2lwZS1pdGVtIik7CiAgY29uc3QgX2NvbXBvbmVudF92YW5fc3dpcGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLXN3aXBlIik7CiAgY29uc3QgX2NvbXBvbmVudF92YW5fYWN0aW9uX2Jhcl9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1hY3Rpb24tYmFyLWljb24iKTsKICBjb25zdCBfY29tcG9uZW50X3Zhbl9hY3Rpb25fYmFyX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tYWN0aW9uLWJhci1idXR0b24iKTsKICBjb25zdCBfY29tcG9uZW50X3Zhbl9hY3Rpb25fYmFyID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1hY3Rpb24tYmFyIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3NfaGVhZGVyLCB7CiAgICBuYW1lOiAn5ZWG5ZOB6K+m5oOFJwogIH0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9zd2lwZSwgewogICAgY2xhc3M6ICJteS1zd2lwZSIsCiAgICAiaW5kaWNhdG9yLWNvbG9yIjogIiMxYmFlYWUiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5kZXRhaWwuZ29vZHNDYXJvdXNlbExpc3QsIChpdGVtLCBpbmRleCkgPT4gewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF92YW5fc3dpcGVfaXRlbSwgewogICAgICAgIGtleTogaW5kZXgKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgICAgICBzcmM6IGl0ZW0sCiAgICAgICAgICBhbHQ6ICIiCiAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgX2hvaXN0ZWRfNCldKSwKICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgfSwgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKTsKICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pLAoKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5kZXRhaWwuZ29vZHNOYW1lIHx8ICcnKSwgMSAvKiBURVhUICovKSwgX2hvaXN0ZWRfNywgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAiwqUiICsgX3RvRGlzcGxheVN0cmluZyhfY3R4LmRldGFpbC5zZWxsaW5nUHJpY2UgfHwgJycpLCAxIC8qIFRFWFQgKi8pLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgPHNwYW4+5bqT5a2YMjAzPC9zcGFuPiAiKV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfaG9pc3RlZF8xMCwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJwcm9kdWN0LWNvbnRlbnQiLAogICAgaW5uZXJIVE1MOiBfY3R4LmRldGFpbC5nb29kc0RldGFpbENvbnRlbnQgfHwgJycKICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF8xMSldKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fYWN0aW9uX2JhciwgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9hY3Rpb25fYmFyX2ljb24sIHsKICAgICAgaWNvbjogImNoYXQtbyIsCiAgICAgIHRleHQ6ICLlrqLmnI0iCiAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2FjdGlvbl9iYXJfaWNvbiwgewogICAgICBpY29uOiAiY2FydC1vIiwKICAgICAgYmFkZ2U6ICEkc2V0dXAuY291bnQgPyAnJyA6ICRzZXR1cC5jb3VudCwKICAgICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gJHNldHVwLmdvVG8oKSksCiAgICAgIHRleHQ6ICLotK3nianovaYiCiAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbImJhZGdlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fYWN0aW9uX2Jhcl9idXR0b24sIHsKICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICBvbkNsaWNrOiAkc2V0dXAuaGFuZGxlQWRkQ2FydCwKICAgICAgdGV4dDogIuWKoOWFpei0reeJqei9piIKICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2FjdGlvbl9iYXJfYnV0dG9uLCB7CiAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICBvbkNsaWNrOiAkc2V0dXAuZ29Ub0NhcnQsCiAgICAgIHRleHQ6ICLnq4vljbPotK3kubAiCiAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siXSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSldKTsKfQ=="},{"version":3,"mappings":";;EAMOA,KAAK,EAAC;AAAgB;;EAEpBA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAmB;;;EAOzBA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAe;gCAG1BC,oBAAwC;EAAnCD,KAAK,EAAC;AAAc,GAAC,UAAQ;;EAC7BA,KAAK,EAAC;AAAe;;EAKvBA,KAAK,EAAC;AAAe;iCACxBC,oBAKK,0BAJHA,oBAAW,YAAP,IAAE,gBACNA,oBAAW,YAAP,IAAE,gBACNA,oBAAa,YAAT,MAAI,gBACRA,oBAAa,YAAT,MAAI;;;;;;;;;uBAzBhBC,oBAoCM,OApCNC,UAoCM,GAnCJC,aAAoCC;IAAzBC,IAAI,EAAE;EAAM,IACvBL,oBA2BM,OA3BNM,UA2BM,GA1BJN,oBAMM,OANNO,UAMM,GALJJ,aAIYK;IAJDT,KAAK,EAAC,UAAU;IAAC,iBAAe,EAAC;;sBAC1B,MAAiD,oBAAjEE,oBAEiBQ,6BAFuBC,WAAM,CAACC,iBAAiB,GAAxCC,IAAI,EAAEC,KAAK;2BAAnCC,aAEiBC;QAFkDC,GAAG,EAAEH;MAAK;0BAC3E,MAAwB,CAAxBb,oBAAwB;UAAlBiB,GAAG,EAAEL,IAAI;UAAEM,GAAG,EAAC;;;;;;;QAI3BlB,oBASM,OATNmB,UASM,GARJnB,oBAEM,OAFNoB,UAEM,mBADDV,WAAM,CAACW,SAAS,wBAErBC,UAAwC,EACxCtB,oBAGM,OAHNuB,UAGM,GAFJvB,oBAA6C,cAAvC,GAAC,oBAAGU,WAAM,CAACc,YAAY,wBAC7BC,2CAA2B,MAG/BzB,oBAQM,OARN0B,UAQM,GAPJC,WAKK,EACL3B,oBAA4E;IAAvED,KAAK,EAAC,iBAAiB;IAAC6B,SAAwC,EAAhClB,WAAM,CAACmB,kBAAkB;4CAGlE1B,aAKiB2B;sBAJf,MAA+C,CAA/C3B,aAA+C4B;MAA1BC,IAAI,EAAC,QAAQ;MAACC,IAAI,EAAC;QACxC9B,aAA6F4B;MAAxEC,IAAI,EAAC,QAAQ;MAAEE,KAAK,GAAGC,YAAK,QAAQA,YAAK;MAAGC,OAAK,sCAAED,WAAI;MAAIF,IAAI,EAAC;wCACrF9B,aAA4EkC;MAArDC,IAAI,EAAC,SAAS;MAAEF,OAAK,EAAED,oBAAa;MAAEF,IAAI,EAAC;0CAClE9B,aAAqEkC;MAA9CC,IAAI,EAAC,QAAQ;MAAEF,OAAK,EAAED,eAAQ;MAAEF,IAAI,EAAC","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_s_header","name","_hoisted_2","_hoisted_3","_component_van_swipe","_Fragment","_ctx","goodsCarouselList","item","index","_createBlock","_component_van_swipe_item","key","src","alt","_hoisted_5","_hoisted_6","goodsName","_hoisted_7","_hoisted_8","sellingPrice","_createCommentVNode","_hoisted_9","_hoisted_10","innerHTML","goodsDetailContent","_component_van_action_bar","_component_van_action_bar_icon","icon","text","badge","$setup","onClick","_component_van_action_bar_button","type"],"sourceRoot":"","sources":["/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/ProductDetail.vue"],"sourcesContent":["<!--\n\n *\n-->\n\n<template>\n  <div class=\"product-detail\">\n    <s-header :name=\"'商品详情'\"></s-header>\n    <div class=\"detail-content\">\n      <div class=\"detail-swipe-wrap\">\n        <van-swipe class=\"my-swipe\" indicator-color=\"#1baeae\">\n          <van-swipe-item v-for=\"(item, index) in detail.goodsCarouselList\" :key=\"index\">\n            <img :src=\"item\" alt=\"\">\n          </van-swipe-item>\n        </van-swipe>\n      </div>\n      <div class=\"product-info\">\n        <div class=\"product-title\">\n          {{ detail.goodsName || '' }}\n        </div>\n        <div class=\"product-desc\">免邮费 顺丰快递</div>\n        <div class=\"product-price\">\n          <span>¥{{ detail.sellingPrice || '' }}</span>\n          <!-- <span>库存203</span> -->\n        </div>\n      </div>\n      <div class=\"product-intro\">\n        <ul>\n          <li>概述</li>\n          <li>参数</li>\n          <li>安装服务</li>\n          <li>常见问题</li>\n        </ul>\n        <div class=\"product-content\" v-html=\"detail.goodsDetailContent || ''\"></div>\n      </div>\n    </div>\n    <van-action-bar>\n      <van-action-bar-icon icon=\"chat-o\" text=\"客服\" />\n      <van-action-bar-icon icon=\"cart-o\" :badge=\"!count ? '' : count\" @click=\"goTo()\" text=\"购物车\" />\n      <van-action-bar-button type=\"warning\" @click=\"handleAddCart\" text=\"加入购物车\" />\n      <van-action-bar-button type=\"danger\" @click=\"goToCart\" text=\"立即购买\" />\n    </van-action-bar>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, computed, toRefs, nextTick } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { getDetail } from '@/service/good'\nimport { addCart } from '@/service/cart'\nimport sHeader from '@/components/SimpleHeader'\nimport { Toast } from 'vant'\nimport { prefix } from '@/common/js/utils'\nexport default {\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const store = useStore()\n\n    const state = reactive({\n      detail: {\n        goodsCarouselList: []\n      }\n    })\n\n    onMounted(async () => {\n      const { id } = route.params\n      const { data } = await getDetail(id)\n      data.goodsCarouselList = data.goodsCarouselList.map(i => prefix(i))\n      state.detail = data\n      store.dispatch('updateCart')\n    })\n\n    nextTick(() => {\n      // 一些和DOM有关的东西\n      const content = document.querySelector('.detail-content')\n      content.scrollTop = 0\n    })\n\n    const goBack = () => {\n      router.go(-1)\n    }\n\n    const goTo = () => {\n      router.push({ path: '/cart' })\n    }\n\n    const handleAddCart = async () => {\n      const { resultCode } = await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      if (resultCode == 200 ) Toast.success('添加成功')\n      store.dispatch('updateCart')\n    }\n\n    const goToCart = async () => {\n      await addCart({ goodsCount: 1, goodsId: state.detail.goodsId })\n      store.dispatch('updateCart')\n      router.push({ path: '/cart' })\n    }\n\n    const count = computed(() => {\n      console.log(111, store.state.cartCount)\n      return store.state.cartCount\n    })\n\n    return {\n      ...toRefs(state),\n      goBack,\n      goTo,\n      handleAddCart,\n      goToCart,\n      count\n    }\n  },\n  components: {\n    sHeader\n  }\n}\n</script>\n\n<style lang=\"less\">\n  @import '../common/style/mixin';\n  .product-detail {\n    .detail-header {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 10000;\n      .fj();\n      .wh(100%, 44px);\n      line-height: 44px;\n      padding: 0 10px;\n      .boxSizing();\n      color: #252525;\n      background: #fff;\n      border-bottom: 1px solid #dcdcdc;\n      .product-name {\n        font-size: 14px;\n      }\n    }\n    .detail-content {\n      height: calc(100vh - 50px);\n      overflow: hidden;\n      overflow-y: auto;\n      .detail-swipe-wrap {\n        .my-swipe .van-swipe-item {\n          img {\n            width: 100%;\n            // height: 300px;\n          }\n        }\n      }\n      .product-info {\n        padding: 0 10px;\n        .product-title {\n          font-size: 18px;\n          text-align: left;\n          color: #333;\n        }\n        .product-desc {\n          font-size: 14px;\n          text-align: left;\n          color: #999;\n          padding: 5px 0;\n        }\n        .product-price {\n          .fj();\n          span:nth-child(1) {\n            color: #F63515;\n            font-size: 22px;\n          }\n          span:nth-child(2) {\n            color: #999;\n            font-size: 16px;\n          }\n        }\n      }\n      .product-intro {\n        width: 100%;\n        padding-bottom: 50px;\n        ul {\n          .fj();\n          width: 100%;\n          margin: 10px 0;\n          li {\n            flex: 1;\n            padding: 5px 0;\n            text-align: center;\n            font-size: 15px;\n            border-right: 1px solid #999;\n            box-sizing: border-box;\n            &:last-child {\n              border-right: none;\n            }\n          }\n        }\n        .product-content {\n          padding: 0 20px;\n          img {\n            width: 100%;\n          }\n        }\n      }\n    }\n    .van-action-bar-button--warning {\n      background: linear-gradient(to right,#6bd8d8, @primary)\n    }\n    .van-action-bar-button--danger {\n      background: linear-gradient(to right, #0dc3c3, #098888)\n    }\n  }\n</style>\n"]}]}