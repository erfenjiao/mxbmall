{"remainingRequest":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js!/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Setting.vue?vue&type=template&id=f29285f4&scoped=true","dependencies":[{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Setting.vue","mtime":1663211991320},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/babel.config.js","mtime":1663084725000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKCJkYXRhLXYtZjI5Mjg1ZjQiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbik7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJzZXRpbmctYm94Igp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiaW5wdXQtaXRlbSIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X3NfaGVhZGVyID0gX3Jlc29sdmVDb21wb25lbnQoInMtaGVhZGVyIik7CiAgY29uc3QgX2NvbXBvbmVudF92YW5fZmllbGQgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLWZpZWxkIik7CiAgY29uc3QgX2NvbXBvbmVudF92YW5fYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoInZhbi1idXR0b24iKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfc19oZWFkZXIsIHsKICAgIG5hbWU6ICfotKblj7fnrqHnkIYnCiAgfSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fZmllbGQsIHsKICAgIG1vZGVsVmFsdWU6IF9jdHgubmlja05hbWUsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+IF9jdHgubmlja05hbWUgPSAkZXZlbnQpLAogICAgbGFiZWw6ICLmmLXnp7AiCiAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fZmllbGQsIHsKICAgIG1vZGVsVmFsdWU6IF9jdHguaW50cm9kdWNlU2lnbiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAkZXZlbnQgPT4gX2N0eC5pbnRyb2R1Y2VTaWduID0gJGV2ZW50KSwKICAgIGxhYmVsOiAi5Liq5oCn562+5ZCNIgogIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2ZpZWxkLCB7CiAgICBtb2RlbFZhbHVlOiBfY3R4LnBhc3N3b3JkLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICRldmVudCA9PiBfY3R4LnBhc3N3b3JkID0gJGV2ZW50KSwKICAgIHR5cGU6ICJwYXNzd29yZCIsCiAgICBsYWJlbDogIuS/ruaUueWvhueggSIKICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIm1vZGVsVmFsdWUiXSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX2J1dHRvbiwgewogICAgcm91bmQ6ICIiLAogICAgY2xhc3M6ICJzYXZlLWJ0biIsCiAgICBjb2xvcjogIiMxYmFlYWUiLAogICAgdHlwZTogInByaW1hcnkiLAogICAgb25DbGljazogJHNldHVwLnNhdmUsCiAgICBibG9jazogIiIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVRleHRWTm9kZSgi5L+d5a2YIildKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fYnV0dG9uLCB7CiAgICByb3VuZDogIiIsCiAgICBjbGFzczogInNhdmUtYnRuIiwKICAgIGNvbG9yOiAiIzFiYWVhZSIsCiAgICB0eXBlOiAicHJpbWFyeSIsCiAgICBvbkNsaWNrOiAkc2V0dXAuaGFuZGxlTG9nb3V0LAogICAgYmxvY2s6ICIiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVUZXh0Vk5vZGUoIumAgOWHuueZu+W9lSIpXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKV0pOwp9"},{"version":3,"mappings":";;;EAMOA,KAAK,EAAC;AAAY;;EAEhBA,KAAK,EAAC;AAAY;;;;;uBAFzBC,oBASM,OATNC,UASM,GARJC,aAAoCC;IAAzBC,IAAI,EAAE;EAAM,IACvBC,oBAIM,OAJNC,UAIM,GAHJJ,aAA2CK;gBAAvBC,aAAQ;+DAARA,aAAQ;IAAEC,KAAK,EAAC;2CACpCP,aAAkDK;gBAA9BC,kBAAa;+DAAbA,kBAAa;IAAEC,KAAK,EAAC;2CACzCP,aAA6DK;gBAAzCC,aAAQ;+DAARA,aAAQ;IAAEE,IAAI,EAAC,UAAU;IAACD,KAAK,EAAC;6CAEtDP,aAAqGS;IAAzFC,KAAK,EAAL,EAAK;IAACb,KAAK,EAAC,UAAU;IAACc,KAAK,EAAC,SAAS;IAACH,IAAI,EAAC,SAAS;IAAEI,OAAK,EAAEC,WAAI;IAAEC,KAAK,EAAL;;sBAAM,MAAE,kBAAF,IAAE;;kCACxFd,aAA+GS;IAAnGC,KAAK,EAAL,EAAK;IAACb,KAAK,EAAC,UAAU;IAACc,KAAK,EAAC,SAAS;IAACH,IAAI,EAAC,SAAS;IAAEI,OAAK,EAAEC,mBAAY;IAAEC,KAAK,EAAL;;sBAAM,MAAI,kBAAJ,MAAI","names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_s_header","name","_createElementVNode","_hoisted_2","_component_van_field","_ctx","label","type","_component_van_button","round","color","onClick","$setup","block"],"sourceRoot":"","sources":["/home/erfenjiao/web/newbee-mall-vue3-app-main/src/views/Setting.vue"],"sourcesContent":["<!--\n\n *\n-->\n\n<template>\n  <div class=\"seting-box\">\n    <s-header :name=\"'账号管理'\"></s-header>\n    <div class=\"input-item\">\n      <van-field v-model=\"nickName\" label=\"昵称\" />\n      <van-field v-model=\"introduceSign\" label=\"个性签名\" />\n      <van-field v-model=\"password\" type='password' label=\"修改密码\" />\n    </div>\n    <van-button round class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"save\" block>保存</van-button>\n    <van-button round class=\"save-btn\" color=\"#1baeae\" type=\"primary\" @click=\"handleLogout\" block>退出登录</van-button>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, toRefs } from 'vue'\nimport md5 from 'js-md5'\nimport sHeader from '@/components/SimpleHeader'\nimport { getUserInfo, EditUserInfo, logout } from '@/service/user'\nimport { setLocal } from '@/common/js/utils'\nimport { Toast } from 'vant'\nexport default {\n  components: {\n    sHeader\n  },\n  setup() {\n    const state = reactive({\n      nickName: '',\n      introduceSign: '',\n      password: ''\n    })\n\n    onMounted(async () => {\n      const { data } = await getUserInfo()\n      state.nickName = data.nickName\n      state.introduceSign = data.introduceSign\n    })\n\n    const save = async () => {\n      const params = {\n        introduceSign: state.introduceSign,\n        nickName: state.nickName\n      }\n      if (state.password) {\n        params.passwordMd5 = md5(state.password)\n      } \n      await EditUserInfo(params)\n      Toast.success('保存成功')\n    }\n\n    const handleLogout = async () => {\n      const { resultCode } = await logout()\n      if (resultCode == 200) {\n        setLocal('token', '')\n        window.location.href = '/home'\n      }\n    }\n\n    return {\n      ...toRefs(state),\n      save,\n      handleLogout\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .seting-box {\n    .save-btn {\n      width: 80%;\n      margin: 20px auto ;\n    }\n  }\n</style>\n"]}]}