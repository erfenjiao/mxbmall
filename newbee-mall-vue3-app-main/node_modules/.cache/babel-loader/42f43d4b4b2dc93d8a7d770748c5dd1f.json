{"remainingRequest":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js!/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/src/views/CreateOrder.vue?vue&type=template&id=bfedbb30&scoped=true","dependencies":[{"path":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/src/views/CreateOrder.vue","mtime":1663211991641},{"path":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/babel.config.js","mtime":1663084725000},{"path":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKCJkYXRhLXYtYmZlZGJiMzAiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbik7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJjcmVhdGUtb3JkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJhZGRyZXNzLXdyYXAiCn07CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJhZGRyZXNzIgp9Owpjb25zdCBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiZ29vZCIKfTsKY29uc3QgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImdvb2QtaW1nIgp9Owpjb25zdCBfaG9pc3RlZF82ID0gWyJzcmMiXTsKY29uc3QgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogImdvb2QtZGVzYyIKfTsKY29uc3QgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogImdvb2QtdGl0bGUiCn07CmNvbnN0IF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJnb29kLWJ0biIKfTsKY29uc3QgX2hvaXN0ZWRfMTAgPSB7CiAgY2xhc3M6ICJwcmljZSIKfTsKY29uc3QgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJwYXktd3JhcCIKfTsKY29uc3QgX2hvaXN0ZWRfMTIgPSB7CiAgY2xhc3M6ICJwcmljZSIKfTsKY29uc3QgX2hvaXN0ZWRfMTMgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuWVhuWTgemHkeminSIsIC0xIC8qIEhPSVNURUQgKi8pKTsKY29uc3QgX2hvaXN0ZWRfMTQgPSB7CiAgc3R5bGU6IHsKICAgIHdpZHRoOiAnOTAlJywKICAgIG1hcmdpbjogJzAgYXV0bycsCiAgICBwYWRkaW5nOiAnNTBweCAwJwogIH0KfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X3NfaGVhZGVyID0gX3Jlc29sdmVDb21wb25lbnQoInMtaGVhZGVyIik7CiAgY29uc3QgX2NvbXBvbmVudF92YW5faWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4taWNvbiIpOwogIGNvbnN0IF9jb21wb25lbnRfdmFuX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJ2YW4tYnV0dG9uIik7CiAgY29uc3QgX2NvbXBvbmVudF92YW5fcG9wdXAgPSBfcmVzb2x2ZUNvbXBvbmVudCgidmFuLXBvcHVwIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3NfaGVhZGVyLCB7CiAgICBuYW1lOiAn55Sf5oiQ6K6i5Y2VJywKICAgIG9uQ2FsbGJhY2s6ICRzZXR1cC5kZWxldGVMb2NhbAogIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsib25DYWxsYmFjayJdKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAibmFtZSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICguLi5hcmdzKSA9PiAkc2V0dXAuZ29UbyAmJiAkc2V0dXAuZ29UbyguLi5hcmdzKSkKICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5hZGRyZXNzLnVzZXJOYW1lKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5hZGRyZXNzLnVzZXJQaG9uZSksIDEgLyogVEVYVCAqLyldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgX3RvRGlzcGxheVN0cmluZyhfY3R4LmFkZHJlc3MucHJvdmluY2VOYW1lKSArICIgIiArIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5hZGRyZXNzLmNpdHlOYW1lKSArICIgIiArIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5hZGRyZXNzLnJlZ2lvbk5hbWUpICsgIiAiICsgX3RvRGlzcGxheVN0cmluZyhfY3R4LmFkZHJlc3MuZGV0YWlsQWRkcmVzcyksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9pY29uLCB7CiAgICBjbGFzczogImFycm93IiwKICAgIG5hbWU6ICJhcnJvdyIKICB9KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChfY3R4LmNhcnRMaXN0LCAoaXRlbSwgaW5kZXgpID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6ICJnb29kLWl0ZW0iLAogICAgICBrZXk6IGluZGV4CiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImltZyIsIHsKICAgICAgc3JjOiBfY3R4LiRmaWx0ZXJzLnByZWZpeChpdGVtLmdvb2RzQ292ZXJJbWcpLAogICAgICBhbHQ6ICIiCiAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBfaG9pc3RlZF82KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uZ29vZHNOYW1lKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICJ4IiArIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5nb29kc0NvdW50KSwgMSAvKiBURVhUICovKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAsICLCpSIgKyBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uc2VsbGluZ1ByaWNlKSwgMSAvKiBURVhUICovKV0pXSldKTsKICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMiwgW19ob2lzdGVkXzEzLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIsKlIiArIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnRvdGFsKSwgMSAvKiBURVhUICovKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fYnV0dG9uLCB7CiAgICBvbkNsaWNrOiAkc2V0dXAuaGFuZGxlQ3JlYXRlT3JkZXIsCiAgICBjbGFzczogInBheS1idG4iLAogICAgY29sb3I6ICIjMWJhZWFlIiwKICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgIGJsb2NrOiAiIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKCLnlJ/miJDorqLljZUiKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm9uQ2xpY2siXSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdmFuX3BvcHVwLCB7CiAgICBjbG9zZWFibGU6ICIiLAogICAgImNsb3NlLW9uLWNsaWNrLW92ZXJsYXkiOiBmYWxzZSwKICAgIHNob3c6IF9jdHguc2hvd1BheSwKICAgICJvblVwZGF0ZTpzaG93IjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSAkZXZlbnQgPT4gX2N0eC5zaG93UGF5ID0gJGV2ZW50KSwKICAgIHBvc2l0aW9uOiAiYm90dG9tIiwKICAgIHN0eWxlOiB7CiAgICAgIGhlaWdodDogJzMwJScKICAgIH0sCiAgICBvbkNsb3NlOiAkc2V0dXAuY2xvc2UKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTQsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92YW5fYnV0dG9uLCB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgbWFyZ2luQm90dG9tOiAnMTBweCcKICAgICAgfSwKICAgICAgY29sb3I6ICIjMTk4OWZhIiwKICAgICAgYmxvY2s6ICIiLAogICAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICRldmVudCA9PiAkc2V0dXAuaGFuZGxlUGF5T3JkZXIoMSkpCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKCLmlK/ku5jlrp3mlK/ku5giKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3Zhbl9idXR0b24sIHsKICAgICAgY29sb3I6ICIjNGZjMDhkIiwKICAgICAgYmxvY2s6ICIiLAogICAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICRldmVudCA9PiAkc2V0dXAuaGFuZGxlUGF5T3JkZXIoMikpCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKCLlvq7kv6HmlK/ku5giKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSldKV0pLAoKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJzaG93IiwgIm9uQ2xvc2UiXSldKTsKfQ=="},{"version":3,"mappings":";;;EAMOA,KAAK,EAAC;AAAc;;EAElBA,KAAK,EAAC;AAAc;;EAKlBA,KAAK,EAAC;AAAS;;EAKjBA,KAAK,EAAC;AAAM;;EAERA,KAAK,EAAC;AAAU;;;EAChBA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAY;;EAIlBA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAO;;EAKrBA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAO;iEAChBC,oBAAiB,cAAX,MAAI;;EAaNC,KAAK,EAAE;IAAAC;IAAAC;IAAAC;EAAA;AAAqD;;;;;;uBAzCtEC,oBA8CM,OA9CNC,UA8CM,GA7CJC,aAA4DC;IAAjDC,IAAI,EAAE,MAAM;IAAGC,UAAQ,EAAEC;2CACpCX,oBASM,OATNY,UASM,GARJZ,oBAGM;IAHDD,KAAK,EAAC,MAAM;IAAEc,OAAK,yCAAEF,mCAAI;MAC5BX,oBAAoC,+BAA3Bc,YAAO,CAACC,QAAQ,kBACzBf,oBAAoC,+BAA3Bc,YAAO,CAACE,SAAS,oBAE5BhB,oBAEM,OAFNiB,UAEM,mBADDH,YAAO,CAACI,YAAY,IAAG,GAAC,oBAAGJ,YAAO,CAACK,QAAQ,IAAG,GAAC,oBAAGL,YAAO,CAACM,UAAU,IAAG,GAAC,oBAAGN,YAAO,CAACO,aAAa,kBAErGd,aAAuCe;IAA7BvB,KAAK,EAAC,OAAO;IAACU,IAAI,EAAC;QAE/BT,oBAaM,OAbNuB,UAaM,sBAZJlB,oBAWMmB,6BAXyCV,aAAQ,GAAxBW,IAAI,EAAEC,KAAK;yBAA1CrB,oBAWM;MAXDN,KAAK,EAAC,WAAW;MAAoC4B,GAAG,EAAED;QAC7D1B,oBAAmF,OAAnF4B,UAAmF,GAA7D5B,oBAAuD;MAAjD6B,GAAG,EAAEf,aAAQ,CAACgB,MAAM,CAACL,IAAI,CAACM,aAAa;MAAGC,GAAG,EAAC;2CAC1EhC,oBAQM,OARNiC,UAQM,GAPJjC,oBAGM,OAHNkC,UAGM,GAFJlC,oBAAiC,+BAAxByB,IAAI,CAACU,SAAS,kBACvBnC,oBAAmC,cAA7B,GAAC,oBAAGyB,IAAI,CAACW,UAAU,oBAE3BpC,oBAEM,OAFNqC,UAEM,GADJrC,oBAAiD,OAAjDsC,WAAiD,EAA9B,GAAC,oBAAGb,IAAI,CAACc,YAAY;oCAKhDvC,oBAMM,OANNwC,WAMM,GALJxC,oBAGM,OAHNyC,WAGM,GAFJC,WAAiB,EACjB1C,oBAAyB,cAAnB,GAAC,oBAAGW,YAAK,oBAEjBJ,aAA6GoC;IAAhG9B,OAAK,EAAEF,wBAAiB;IAAEZ,KAAK,EAAC,SAAS;IAAC6C,KAAK,EAAC,SAAS;IAACC,IAAI,EAAC,SAAS;IAACC,KAAK,EAAL;;sBAAM,MAAI,kBAAJ,MAAI;;oCAElGvC,aAYYwC;IAXVC,SAAS,EAAT,EAAS;IACR,wBAAsB,EAAE,KAAK;IACtBC,IAAI,EAAEnC,YAAO;yDAAPA,YAAO;IACrBoC,QAAQ,EAAC,QAAQ;IAChBjD,KAAK,EAAE;MAAAkD;IAAA,CAAiB;IACxBC,OAAK,EAAEzC;;sBAER,MAGM,CAHNX,oBAGM,OAHNqD,WAGM,GAFJ9C,aAAiHoC;MAApG1C,KAAK,EAAE;QAAAqD;MAAA,CAAwB;MAAEV,KAAK,EAAC,SAAS;MAACE,KAAK,EAAL,EAAK;MAAEjC,OAAK,sCAAEF,qBAAc;;wBAAK,MAAK,kBAAL,OAAK;;QACpGJ,aAA8EoC;MAAlEC,KAAK,EAAC,SAAS;MAACE,KAAK,EAAL,EAAK;MAAEjC,OAAK,sCAAEF,qBAAc;;wBAAK,MAAI,kBAAJ,MAAI","names":["class","_createElementVNode","style","width","margin","padding","_createElementBlock","_hoisted_1","_createVNode","_component_s_header","name","onCallback","$setup","_hoisted_2","onClick","_ctx","userName","userPhone","_hoisted_3","provinceName","cityName","regionName","detailAddress","_component_van_icon","_hoisted_4","_Fragment","item","index","key","_hoisted_5","src","prefix","goodsCoverImg","alt","_hoisted_7","_hoisted_8","goodsName","goodsCount","_hoisted_9","_hoisted_10","sellingPrice","_hoisted_11","_hoisted_12","_hoisted_13","_component_van_button","color","type","block","_component_van_popup","closeable","show","position","height","onClose","_hoisted_14","marginBottom"],"sourceRoot":"","sources":["/home/erfenjiao/web/springboot+vue商城前后端分离+后台管理/newbee-mall-vue3-app-main/src/views/CreateOrder.vue"],"sourcesContent":["<!--\n\n *\n-->\n\n<template>\n  <div class=\"create-order\">\n    <s-header :name=\"'生成订单'\" @callback=\"deleteLocal\"></s-header>\n    <div class=\"address-wrap\">\n      <div class=\"name\" @click=\"goTo\">\n        <span>{{ address.userName }} </span>\n        <span>{{ address.userPhone }}</span>\n      </div>\n      <div class=\"address\">\n        {{ address.provinceName }} {{ address.cityName }} {{ address.regionName }} {{ address.detailAddress }}\n      </div>\n      <van-icon class=\"arrow\" name=\"arrow\" />\n    </div>\n    <div class=\"good\">\n      <div class=\"good-item\" v-for=\"(item, index) in cartList\" :key=\"index\">\n        <div class=\"good-img\"><img :src=\"$filters.prefix(item.goodsCoverImg)\" alt=\"\"></div>\n        <div class=\"good-desc\">\n          <div class=\"good-title\">\n            <span>{{ item.goodsName }}</span>\n            <span>x{{ item.goodsCount }}</span>\n          </div>\n          <div class=\"good-btn\">\n            <div class=\"price\">¥{{ item.sellingPrice }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"pay-wrap\">\n      <div class=\"price\">\n        <span>商品金额</span>\n        <span>¥{{ total }}</span>\n      </div>\n      <van-button @click=\"handleCreateOrder\" class=\"pay-btn\" color=\"#1baeae\" type=\"primary\" block>生成订单</van-button>\n    </div>\n    <van-popup\n      closeable\n      :close-on-click-overlay=\"false\"\n      v-model:show=\"showPay\"\n      position=\"bottom\"\n      :style=\"{ height: '30%' }\"\n      @close=\"close\"\n    >\n      <div :style=\"{ width: '90%', margin: '0 auto', padding: '50px 0' }\">\n        <van-button :style=\"{ marginBottom: '10px' }\" color=\"#1989fa\" block @click=\"handlePayOrder(1)\">支付宝支付</van-button>\n        <van-button color=\"#4fc08d\" block @click=\"handlePayOrder(2)\">微信支付</van-button>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, toRefs, computed } from 'vue'\nimport sHeader from '@/components/SimpleHeader'\nimport { getByCartItemIds } from '@/service/cart'\nimport { getDefaultAddress, getAddressDetail } from '@/service/address'\nimport { createOrder, payOrder } from '@/service/order'\nimport { setLocal, getLocal } from '@/common/js/utils'\nimport { Toast } from 'vant'\nimport { useRoute, useRouter } from 'vue-router'\nexport default {\n  components: {\n    sHeader\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const state = reactive({\n      cartList: [],\n      address: {},\n      showPay: false,\n      orderNo: '',\n      cartItemIds: []\n    })\n\n    onMounted(() => {\n      init()\n    })\n    \n    const init = async () => {\n      Toast.loading({ message: '加载中...', forbidClick: true });\n      const { addressId, cartItemIds } = route.query\n      const _cartItemIds = cartItemIds ? JSON.parse(cartItemIds) : JSON.parse(getLocal('cartItemIds'))\n      console.log('cartItemIds', cartItemIds)\n      setLocal('cartItemIds', JSON.stringify(_cartItemIds))\n      const { data: list } = await getByCartItemIds({ cartItemIds: _cartItemIds.join(',') })\n      const { data: address } = addressId ? await getAddressDetail(addressId) : await getDefaultAddress()\n      if (!address) {\n        router.push({ path: '/address' })\n        return\n      }\n      state.cartList = list\n      state.address = address\n      Toast.clear()\n    }\n\n    const goTo = () => {\n      router.push({ path: '/address', query: { cartItemIds: JSON.stringify(state.cartItemIds), from: 'create-order' }})\n    }\n\n    const deleteLocal = () => {\n      setLocal('cartItemIds', '')\n    }\n\n    const handleCreateOrder = async () => {\n      const params = {\n        addressId: state.address.addressId,\n        cartItemIds: state.cartList.map(item => item.cartItemId)\n      }\n      const { data } = await createOrder(params)\n      setLocal('cartItemIds', '')\n      state.orderNo = data\n      state.showPay = true\n    }\n\n    const close = () => {\n      router.push({ path: '/order' })\n    }\n\n    const handlePayOrder = async (type) => {\n      await payOrder({ orderNo: state.orderNo, payType: type })\n      Toast.success('支付成功')\n      setTimeout(() => {\n        router.push({ path: '/order' })\n      }, 2000)\n    }\n\n    const total = computed(() => {\n      let sum = 0\n      state.cartList.forEach(item => {\n        sum += item.goodsCount * item.sellingPrice\n      })\n      return sum\n    })\n\n    return {\n      ...toRefs(state),\n      goTo,\n      deleteLocal,\n      handleCreateOrder,\n      close,\n      handlePayOrder,\n      total\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .create-order {\n    background: #f9f9f9;\n    .address-wrap {\n      margin-bottom: 20px;\n      background: #fff;\n      position: relative;\n      font-size: 14px;\n      padding: 15px;\n      color: #222333;\n      .name, .address {\n        margin: 10px 0;\n      }\n      .arrow {\n        position: absolute;\n        right: 10px;\n        top: 50%;\n        transform: translateY(-50%);\n        font-size: 20px;\n      }\n      &::before {\n        position: absolute;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        height: 2px;\n        background: -webkit-repeating-linear-gradient(135deg, #ff6c6c 0, #ff6c6c 20%, transparent 0, transparent 25%, #1989fa 0, #1989fa 45%, transparent 0, transparent 50%);\n        background: repeating-linear-gradient(-45deg, #ff6c6c 0, #ff6c6c 20%, transparent 0, transparent 25%, #1989fa 0, #1989fa 45%, transparent 0, transparent 50%);\n        background-size: 80px;\n        content: '';\n      }\n    }\n    .good {\n      margin-bottom: 120px;\n    }\n    .good-item {\n      padding: 10px;\n      background: #fff;\n      display: flex;\n      .good-img {\n        img {\n          .wh(100px, 100px)\n        }\n      }\n      .good-desc {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        flex: 1;\n        padding: 20px;\n        .good-title {\n          display: flex;\n          justify-content: space-between;\n        }\n        .good-btn {\n          display: flex;\n          justify-content: space-between;\n          .price {\n            font-size: 16px;\n            color: red;\n            line-height: 28px;\n          }\n          .van-icon-delete {\n            font-size: 20px;\n            margin-top: 4px;\n          }\n        }\n      }\n    }\n    .pay-wrap {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      background: #fff;\n      padding: 10px 0;\n      padding-bottom: 50px;\n      border-top: 1px solid #e9e9e9;\n      >div {\n        display: flex;\n        justify-content: space-between;\n        padding: 0 5%;\n        margin: 10px 0;\n        font-size: 14px;\n        span:nth-child(2) {\n          color: red;\n          font-size: 18px;\n        }\n      }\n      .pay-btn {\n        position: fixed;\n        bottom: 7px;\n        right: 0;\n        left: 0;\n        width: 90%;\n        margin: 0 auto;\n      }\n    }\n  }\n</style>\n"]}]}