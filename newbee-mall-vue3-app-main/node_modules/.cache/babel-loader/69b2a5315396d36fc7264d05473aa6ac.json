{"remainingRequest":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/Category.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/Category.vue","mtime":1671008419639},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/babel.config.js","mtime":1671008419639},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCBvbk1vdW50ZWQsIHJlZiwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBuYXZCYXIgZnJvbSAnQC9jb21wb25lbnRzL05hdkJhcic7CmltcG9ydCBsaXN0U2Nyb2xsIGZyb20gJ0AvY29tcG9uZW50cy9MaXN0U2Nyb2xsJzsKaW1wb3J0IHsgZ2V0Q2F0ZWdvcnkgfSBmcm9tICJAL3NlcnZpY2UvZ29vZCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBuYXZCYXIsCiAgICBsaXN0U2Nyb2xsCiAgfSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgLy8gY29tcG9zaXRpb24gQVBJIOiOt+WPliByZWZzIOeahOW9ouW8jwogICAgY29uc3Qgc2VhcmNoV3JhcCA9IHJlZihudWxsKTsKICAgIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoewogICAgICBjYXRlZ29yeURhdGE6IFtdLAogICAgICBjdXJyZW50SW5kZXg6IDE1CiAgICB9KTsKICAgIG9uTW91bnRlZChhc3luYyAoKSA9PiB7CiAgICAgIGxldCAkc2NyZWVuSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgY29uc29sZS5sb2coJ3NlYXJjaFdyYXAudmFsdWUnLCBzZWFyY2hXcmFwLnZhbHVlKTsKICAgICAgc2VhcmNoV3JhcC52YWx1ZS5zdHlsZS5oZWlnaHQgPSAkc2NyZWVuSGVpZ2h0IC0gMTAwICsgJ3B4JzsKICAgICAgX1RvYXN0LmxvYWRpbmcoJ+WKoOi9veS4rS4uLicpOwogICAgICBjb25zdCB7CiAgICAgICAgZGF0YQogICAgICB9ID0gYXdhaXQgZ2V0Q2F0ZWdvcnkoKTsKICAgICAgX1RvYXN0LmNsZWFyKCk7CiAgICAgIHN0YXRlLmNhdGVnb3J5RGF0YSA9IGRhdGE7CiAgICB9KTsKICAgIGNvbnN0IGdvSG9tZSA9ICgpID0+IHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICdob21lJwogICAgICB9KTsKICAgIH07CiAgICBjb25zdCBzZWxlY3RNZW51ID0gaW5kZXggPT4gewogICAgICBzdGF0ZS5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgIH07CiAgICBjb25zdCBzZWxlY3RQcm9kdWN0ID0gaXRlbSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCdpdGVtJywgaXRlbS5jYXRlZ29yeUlkKTsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcHJvZHVjdC1saXN0JywKICAgICAgICBxdWVyeTogewogICAgICAgICAgY2F0ZWdvcnlJZDogaXRlbS5jYXRlZ29yeUlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgICByZXR1cm4gewogICAgICAuLi50b1JlZnMoc3RhdGUpLAogICAgICBnb0hvbWUsCiAgICAgIHNlbGVjdE1lbnUsCiAgICAgIHNlbGVjdFByb2R1Y3QsCiAgICAgIHNlYXJjaFdyYXAKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;AAuDA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,GAAG,EAAEC,MAAK,QAAS,KAAI;AACrD,SAASC,SAAQ,QAAS,YAAW;AACrC,OAAOC,MAAK,MAAO,qBAAoB;AACvC,OAAOC,UAAS,MAAO,yBAAwB;AAC/C,SAASC,WAAU,QAAS,gBAAgB;AAE5C,eAAe;EACbC,UAAU,EAAE;IACVH,MAAM;IACNC;EACF,CAAC;EACDG,KAAK,GAAG;IACN,MAAMC,MAAK,GAAIN,SAAS,EAAC;IACzB;IACA,MAAMO,UAAS,GAAIT,GAAG,CAAC,IAAI;IAC3B,MAAMU,KAAI,GAAIZ,QAAQ,CAAC;MACrBa,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE;IAChB,CAAC;IAEDb,SAAS,CAAC,YAAY;MACpB,IAAIc,aAAY,GAAIC,QAAQ,CAACC,eAAe,CAACC,YAAW;MACxDC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAET,UAAU,CAACU,KAAK;MAChDV,UAAU,CAACU,KAAK,CAACC,KAAK,CAACC,MAAK,GAAIR,aAAY,GAAI,GAAE,GAAI,IAAG;MACzD,OAAMS,OAAO,CAAC,QAAQ;MACtB,MAAM;QAAEC;MAAK,IAAI,MAAMlB,WAAW,EAAC;MACnC,OAAMmB,KAAK,EAAC;MACZd,KAAK,CAACC,YAAW,GAAIY,IAAG;IAC1B,CAAC;IAED,MAAME,MAAK,GAAI,MAAM;MACnBjB,MAAM,CAACkB,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAO,CAAC;IAC9B;IAEA,MAAMC,UAAS,GAAKC,KAAK,IAAK;MAC5BnB,KAAK,CAACE,YAAW,GAAIiB,KAAI;IAC3B;IAEA,MAAMC,aAAY,GAAKC,IAAI,IAAK;MAC9Bd,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEa,IAAI,CAACC,UAAU;MACnCxB,MAAM,CAACkB,IAAI,CAAC;QAAEC,IAAI,EAAE,eAAe;QAAEM,KAAK,EAAE;UAAED,UAAU,EAAED,IAAI,CAACC;QAAW;MAAE,CAAC;IAC/E;IACA,OAAO;MACL,GAAG/B,MAAM,CAACS,KAAK,CAAC;MAChBe,MAAM;MACNG,UAAU;MACVE,aAAa;MACbrB;IACF;EACF;AACF","names":["reactive","onMounted","ref","toRefs","useRouter","navBar","listScroll","getCategory","components","setup","router","searchWrap","state","categoryData","currentIndex","$screenHeight","document","documentElement","clientHeight","console","log","value","style","height","loading","data","clear","goHome","push","path","selectMenu","index","selectProduct","item","categoryId","query"],"sourceRoot":"","sources":["/home/erfenjiao/mxbmall/newbee-mall-vue3-app-main/src/views/Category.vue"],"sourcesContent":["<!--\n\n *\n-->\n\n<template>\n  <div class=\"categray\">\n    <div>\n      <header class=\"category-header wrap van-hairline--bottom\">\n        <i class=\"nbicon nbfanhui\" @click=\"goHome\"></i>\n        <div class=\"header-search\">\n          <i class=\"nbicon nbSearch\"></i>\n          <router-link tag=\"span\" class=\"search-title\" to=\"./product-list?from=category\">全场50元起步</router-link>\n        </div>\n        <i class=\"iconfont icon-More\"></i>\n      </header>\n      <nav-bar></nav-bar>\n      <div class=\"search-wrap\" ref=\"searchWrap\">\n        <list-scroll :scroll-data=\"categoryData\" class=\"nav-side-wrapper\">\n          <ul class=\"nav-side\">\n            <li\n              v-for=\"item in categoryData\"\n              :key=\"item.categoryId\"\n              v-text=\"item.categoryName\"\n              :class=\"{'active' : currentIndex == item.categoryId}\"\n              @click=\"selectMenu(item.categoryId)\"\n            ></li>\n          </ul>\n        </list-scroll>\n        <div class=\"search-content\">\n          <list-scroll :scroll-data=\"categoryData\" >\n            <div class=\"swiper-container\">\n              <div class=\"swiper-wrapper\">\n                <template v-for=\"(category, index) in categoryData\">\n                  <div class=\"swiper-slide\" v-if=\"currentIndex == category.categoryId\" :key=\"index\">\n                    <!-- <img class=\"category-main-img\" :src=\"category.mainImgUrl\" v-if=\"category.mainImgUrl\"/> -->\n                    <div class=\"category-list\" v-for=\"(products, index) in category.secondLevelCategoryVOS\" :key=\"index\">\n                      <p class=\"catogory-title\">{{products.categoryName}}</p>\n                      <div class=\"product-item\" v-for=\"(product, index) in products.thirdLevelCategoryVOS\" :key=\"index\" @click=\"selectProduct(product)\">\n                        <img src=\"//s.weituibao.com/1583591077131/%E5%88%86%E7%B1%BB.png\" class=\"product-img\"/>\n                        <p v-text=\"product.categoryName\" class=\"product-title\"></p>\n                      </div>\n                    </div>\n                  </div>\n                </template>\n              </div>\n            </div>\n          </list-scroll>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted, ref, toRefs } from 'vue'\nimport { useRouter } from 'vue-router'\nimport navBar from '@/components/NavBar'\nimport listScroll from '@/components/ListScroll'\nimport { getCategory } from \"@/service/good\";\nimport { Toast } from 'vant'\nexport default {\n  components: {\n    navBar,\n    listScroll\n  },\n  setup() {\n    const router = useRouter()\n    // composition API 获取 refs 的形式\n    const searchWrap = ref(null)\n    const state = reactive({\n      categoryData: [],\n      currentIndex: 15\n    })\n\n    onMounted(async () => {\n      let $screenHeight = document.documentElement.clientHeight\n      console.log('searchWrap.value', searchWrap.value)\n      searchWrap.value.style.height = $screenHeight - 100 + 'px'\n      Toast.loading('加载中...')\n      const { data } = await getCategory()\n      Toast.clear()\n      state.categoryData = data\n    })\n\n    const goHome = () => {\n      router.push({ path: 'home' })\n    }\n\n    const selectMenu = (index) => {\n      state.currentIndex = index\n    }\n\n    const selectProduct = (item) => {\n      console.log('item', item.categoryId)\n      router.push({ path: '/product-list', query: { categoryId: item.categoryId } })\n    }\n    return {\n      ...toRefs(state),\n      goHome,\n      selectMenu,\n      selectProduct,\n      searchWrap\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n  @import '../common/style/mixin';\n  .categray {\n    .category-header {\n      background: #fff;\n      position: fixed;\n      left: 0;\n      top: 0;\n      .fj();\n      .wh(100%, 50px);\n      line-height: 50px;\n      padding: 0 15px;\n      box-sizing: border-box;\n      font-size: 15px;\n      color: #656771;\n      z-index: 10000;\n      &.active {\n        background: @primary;\n      }\n      .icon-left {\n        font-size: 25px;\n        font-weight: bold;\n      }\n      .header-search {\n        display: flex;\n        width: 80%;\n        height: 20px;\n        line-height: 20px;\n        margin: 10px 0;\n        padding: 5px 0;\n        color: #232326;\n        background: #F7F7F7;\n        border-radius: 20px;\n        .nbSearch {\n          padding: 0 10px 0 20px;\n          font-size: 17px;\n        }\n        .search-title {\n          font-size: 12px;\n          color: #666;\n          line-height: 21px;\n        }\n      }\n      .icon-More {\n        font-size: 20px;\n      }\n    }\n  }\n  .search-wrap {\n    .fj();\n    width: 100%;\n    margin-top: 50px;\n    background: #F8F8F8;\n    .nav-side-wrapper {\n      width: 28%;\n      height: 100%;\n      overflow: hidden;\n      .nav-side {\n        width: 100%;\n        .boxSizing();\n        background: #F8F8F8;\n        li {\n          width: 100%;\n          height: 56px;\n          text-align: center;\n          line-height: 56px;\n          font-size: 14px;\n          &.active {\n            color: @primary;\n            background: #fff;\n          }\n        }\n      }\n    }\n    .search-content {\n      width: 72%;\n      height: 100%;\n      padding: 0 10px;\n      background: #fff;\n      overflow-y: scroll;\n      touch-action: pan-y;\n      * {\n          touch-action: pan-y;\n        }\n      .boxSizing();\n      .swiper-container {\n        width: 100%;\n        .swiper-slide {\n          width: 100%;\n          .category-main-img {\n            width: 100%;\n          }\n          .category-list {\n            display: flex;\n            flex-wrap: wrap;\n            flex-shrink: 0;\n            width: 100%;\n            .catogory-title {\n              width: 100%;\n              font-size: 17px;\n              font-weight: 500;\n              padding: 20px 0;\n            }\n            .product-item {\n              width: 33.3333%;\n              margin-bottom: 10px;\n              text-align: center;\n              font-size: 15px;\n              .product-img {\n                .wh(30px, 30px);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  .fade-out-enter-active, .fade-out-leave-active {\n    // transition: opacity 0.5s;\n  }\n\n  .fade-out-enter, .fade-out-leave-to {\n    // opacity: 0;\n  }\n</style>"]}]}